<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>CRM Concessionnaires</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.1/firebase-firestore-compat.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
</head>
<body>
  <div class="bg-car-visible"></div>
  <div class="bg-red-overlay"></div>

  <header class="crm-header">
    <h1>CRM Concessionnaires</h1>
  </header>

  <nav class="crm-nav">
    <button class="nav-tab nav-active" data-tab="accueil">Accueil</button>
    <button class="nav-tab" data-tab="performance">Performance</button>
    <button class="nav-tab" data-tab="visites">Visites</button>
  </nav>

  <main class="crm-main">
    <section id="accueil" class="crm-card tab-content">
      <div class="accueil-content">
        <h2 class="section-title">Bienvenue dans votre CRM</h2>
        <p class="intro">
          G√©rez, analysez et suivez vos concessionnaires : performances mensuelles, visites, historiques, notes‚Ä¶<br/>
          <strong class="red-text">Tout est synchronis√© et √† jour !</strong>
        </p>
        <p class="slogan">
          "On sauve pas des vies, on vend des Garanties."
        </p>
        <p class="copyright">
          ¬© 2025 - Avantage Plus
        </p>
      </div>
    </section>

    <section id="performance" class="crm-card tab-content hidden">
      <div class="actions-header">
        <div class="search-bar">
          <input type="text" id="search-input" placeholder="Rechercher un concessionnaire...">
        </div>
        <div class="year-selector-wrapper">
          <label for="year-select">Ann√©e :</label>
          <select id="year-select"></select>
        </div>
        <div class="actions-buttons">
          <button id="add-concessionnaire" class="btn-action btn-add">‚ûï Ajouter</button>
          <input type="file" id="import-file" accept=".csv" hidden />
          <button id="btn-import" class="btn-action btn-import-export">Importer CSV</button>
          <button id="btn-export" class="btn-action btn-import-export">Exporter CSV</button>
        </div>
      </div>

      <div class="crm-table-scroll">
        <table class="crm-table">
          <thead>
            <tr>
              <th class="col-small">#</th>
              <th class="col-small">Info</th>
              <th class="col-nom">Nom</th>
              <th class="col-taux">Taux</th>
              <th class="col-mois">Janv</th><th class="col-mois">F√©v</th><th class="col-mois">Mars</th><th class="col-mois">Avr</th>
              <th class="col-mois">Mai</th><th class="col-mois">Juin</th><th class="col-mois">Juil</th><th class="col-mois">Ao√ªt</th>
              <th class="col-mois">Sept</th><th class="col-mois">Oct</th><th class="col-mois">Nov</th><th class="col-mois">D√©c</th>
              <th class="col-total">Total <span id="header-year-total"></span></th>
              <th class="col-moyenne">Moyenne <span id="header-year-moyenne"></span></th>
              <th class="col-precedent">Moy. Pr√©c.</th>
              <th class="col-diff">% Diff <span id="header-year-diff"></span></th>
              <th class="col-notes">Notes</th>
            </tr>
          </thead>
          <tbody id="performance-body"></tbody>
        </table>
      </div>
    </section>

    <section id="visites" class="crm-card tab-content hidden">
        <h2 class="section-title">Suivi des visites concessionnaires</h2>
        <div class="crm-table-scroll">
            <table class="crm-table">
                <thead>
                <tr>
                    <th class="col-visites-taux">Taux %</th>
                    <th class="col-visites-nom">Concessionnaire</th>
                    <th>Moy. Annuelle</th>
                    <th>Derni√®re visite</th>
                    <th>Jours depuis</th>
                    <th>AGENDA</th>
                    <th>üìù</th>
                    <th>‚ùå</th>
                </tr>
                </thead>
                <tbody id="visites-body"></tbody>
            </table>
        </div>
    </section>
  </main>
  
  <div id="notes-overlay" class="modal-overlay hidden">
    <div class="modal-container">
      <div class="modal-header">
        <h3 id="notes-title">Notes</h3>
        <button id="notes-close" class="modal-close">‚úï</button>
      </div>
      <div id="notes-list" class="modal-list"></div>
      <div class="modal-add">
        <textarea id="notes-input" placeholder="√âcrire une note‚Ä¶"></textarea>
        <button id="notes-save" class="modal-save">Ajouter</button>
      </div>
    </div>
  </div>

  <div id="info-overlay" class="modal-overlay hidden">
    <div class="modal-container">
      <div class="modal-header">
        <h3 id="info-title">Infos Concessionnaire</h3>
        <button id="info-close" class="modal-close">‚úï</button>
      </div>
      <div id="info-modal-body" class="modal-body">
        </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
